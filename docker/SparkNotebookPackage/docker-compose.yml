version: '3.7'

name: sparknotebookpackage

services:
  spark-w-package:
    image: jupyter/pyspark-notebook
    container_name: spark-w-package
    volumes:
      -  ../../jupyter:/home/jovyan/jupyter
      -  ../../delta_analytics:/home/jovyan/delta_analytics
      -  ../../test_delta_analytics:/home/jovyan/test_delta_analytics
      -  ../../data:/home/jovyan/data
      -  ../../setup.py:/home/jovyan/setup.py
      -  ../../README.md:/home/jovyan/README.md
    ports:
      -  8888:8888
    command: ["sh", "-c", "pip3 install -e . && start.sh jupyter notebook --NotebookApp.token=''"]
